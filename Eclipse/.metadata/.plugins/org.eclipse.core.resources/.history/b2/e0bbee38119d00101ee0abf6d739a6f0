package ejercicio6;

import java.io.File;

public class ListarDirectorios {
    public static void main(String[] args) {
        // Si no se pasa argumento, usar ~/AD
        String ruta;
        if (args.length == 0) {
            ruta = System.getProperty("user.home") + "/AD";
        } else {
            ruta = args[0];
        }

        File dir = new File(ruta);

        if (!dir.exists() || !dir.isDirectory()) {
            System.out.println("La ruta no es v치lida o no es un directorio: " + ruta);
            return;
        }

        System.out.println("Contenido de: " + dir.getAbsolutePath());
        listar(dir, 0); // Llamada inicial con nivel 0
    }

    // Funci칩n recursiva que lista directorios y ficheros con indentaci칩n
    private static void listar(File dir, int nivel) {
        File[] contenido = dir.listFiles();
        if (contenido == null) return;

        // Ordenamos para que quede m치s claro (opcional)
        java.util.Arrays.sort(contenido);

        for (File f : contenido) {
            // Crear indentaci칩n seg칰n nivel
            String sangria = "    ".repeat(nivel);

            if (f.isDirectory()) {
                System.out.println(sangria + "/" + f.getName());
                listar(f, nivel + 1); // Recursi칩n
            } else {
                System.out.println(sangria + f.getName());
            }
        }
    }
}

/*
游늷 NOTA:
- Si ejecutas este programa desde el IDE sin argumentos:
    Usar치 el directorio ~/AD en tu usuario.
- Si lo ejecutas con argumento:
    java ListarDirectorios /Users/tuusuario/Desktop
  listar치 el contenido del Escritorio.
*/
